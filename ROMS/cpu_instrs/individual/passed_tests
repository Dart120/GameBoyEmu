6,8,5 doing 3 now breaks with 
Mismatch in CPU state at line 621013:

MINE:   A:12 F:-H-- B:56 C:91 D:9A E:BC H:00 L:00 SP:0010 PC:DEFA PCMEM:00,C3,42,C6
YOURS:  A:12 F:---- B:56 C:91 D:9A E:BC H:00 L:00 SP:0010 PC:DEFA PCMEM:00,C3,42,C6

The CPU state before this (at line 621012) was:

        A:12 F:00 B:56 C:91 D:9A E:BC H:00 L:00 SP:000F PC:DEF8 PCMEM:E8,01,00,C3

The last operation executed (in between lines 621012 and 621013) was:

        0xE8 ADD SP r8

Perhaps the problem is with this opcode, or with your interrupt handling?

2 breaks at
============== ERROR ==============

Mismatch in CPU state at line 151347:

MINE:   A:04 F:C--- B:01 C:00 D:C7 E:BA H:90 L:00 SP:9000 PC:0051 PCMEM:2E,0F,18,F3
YOURS:  A:04 F:C-NZ B:00 C:00 D:C7 E:BA H:90 L:00 SP:DFFD PC:C2C1 PCMEM:C2,B9,C1,F8

The CPU state before this (at line 151346) was:

        A:04 F:10 B:01 C:00 D:C7 E:BA H:90 L:00 SP:DFFD PC:C2C0 PCMEM:05,C2,B9,C1

The last operation executed (in between lines 151346 and 151347) was:

        0x05 DEC B

Perhaps the problem is with this opcode, or with your interrupt handling?

Its deffo a problem with interrupt handling
